/* ========================================
   MODAL DE AUTENTICACIÓN - Login/Registro/Recupero
   Migrado desde snippet "Modal Auth v3.0"
   Optimizado para WC-AJAX y LiteSpeed
   ======================================== */

/* =====================
   CONTENEDOR MODAL
   ===================== */
.mu-auth-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.2s ease, visibility 0.2s ease;
}

.mu-auth-modal[style*="display: flex"] {
    visibility: visible;
    opacity: 1;
}

/* Overlay con blur */
.mu-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
}

/* Contenedor del modal */
.mu-modal-container {
    position: relative;
    width: 100%;
    max-width: 440px;
    max-height: 90vh;
    overflow-y: auto;
    animation: muSlideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 2;
}

/* Contenido */
.mu-modal-content {
    background: var(--blanco, #fff);
    border-radius: var(--mu-radius, 12px);
    box-shadow: var(--mu-shadow-lg, 0 10px 25px -5px rgba(0, 0, 0, 0.1));
    padding: 2rem;
    position: relative;
}

/* =====================
   HEADER Y CLOSE
   ===================== */
.mu-modal-close {
    position: absolute;
    top: 15px;
    right: 15px;
    background: transparent;
    border: 0;
    cursor: pointer;
    color: #6b7280;
    padding: 5px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--mu-transition-fast, all 0.2s ease);
}

.mu-modal-close:hover {
    background: #f3f4f6;
    color: #111;
}

.mu-modal-close:focus-visible {
    outline: 3px solid var(--primario, #2b9fcf);
    outline-offset: 2px;
}

.mu-modal-header {
    text-align: center;
    margin-bottom: 1.5rem;
}

.mu-modal-header h2 {
    font-size: 1.75rem;
    margin: 0 0 5px;
    color: var(--texto, #277292);
    font-weight: 700;
}

.mu-modal-subtitle {
    color: #6b7280;
    font-size: 0.95rem;
    margin: 0;
}

/* =====================
   FORMULARIO
   ===================== */
.mu-form-step {
    display: block;
}

.mu-form-group {
    margin-bottom: 1rem;
}

.mu-form-group label {
    display: block;
    font-weight: 600;
    color: #374151;
    margin-bottom: 5px;
    font-size: 0.9rem;
}

.mu-input {
    width: 100%;
    padding: 10px 14px;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 1rem;
    color: #111;
    transition: border-color 0.2s ease;
    font-family: var(--mu-font-base, Inter, sans-serif);
}

.mu-input:focus {
    outline: 0;
    border-color: var(--primario, #2b9fcf);
}

.mu-input:focus-visible {
    outline: 3px solid var(--primario, #2b9fcf);
    outline-offset: 2px;
    border-color: var(--primario, #2b9fcf);
}

/* =====================
   BOTONES
   ===================== */
.mu-btn {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 12px 16px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--mu-transition-fast, all 0.2s ease);
    border: 0;
    font-family: var(--mu-font-base, Inter, sans-serif);
    font-size: 1rem;
}

.mu-btn:focus-visible {
    outline: 3px solid var(--primario, #2b9fcf);
    outline-offset: 3px;
}

.mu-btn-primary {
    background: var(--primario, #2b9fcf);
    color: var(--blanco, #fff);
}

.mu-btn-primary:hover {
    background: var(--resaltado, #2387b0);
    transform: translateY(-1px);
    box-shadow: var(--mu-shadow, 0 4px 6px rgba(0, 0, 0, 0.1));
}

.mu-btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.mu-btn-block {
    width: 100%;
}

/* Link de retroceso */
.mu-link-back {
    background: transparent;
    border: 0;
    color: var(--primario, #2b9fcf);
    font-size: 0.9rem;
    cursor: pointer;
    padding: 0;
    display: inline-flex;
    align-items: center;
    gap: 5px;
    font-weight: 600;
    margin-bottom: 15px;
    transition: var(--mu-transition-fast, all 0.2s ease);
}

.mu-link-back:hover {
    color: var(--resaltado, #2387b0);
    gap: 7px;
}

.mu-link-back:focus-visible {
    outline: 2px solid var(--primario, #2b9fcf);
    outline-offset: 4px;
    border-radius: 4px;
}

/* =====================
   MENSAJES Y ESTADOS
   ===================== */
.mu-welcome-text {
    background: #f3f4f6;
    padding: 10px;
    border-radius: 6px;
    text-align: center;
    margin-bottom: 15px;
    color: #374151;
    font-size: 0.95rem;
}

.mu-welcome-new {
    background: linear-gradient(135deg, #e0f2fe 0%, #fffbeb 100%);
    padding: 10px;
    border-radius: 6px;
    text-align: center;
    margin-bottom: 15px;
    color: #111;
    font-weight: 600;
    font-size: 0.95rem;
}

.mu-auth-message {
    padding: 10px;
    border-radius: 6px;
    margin-top: 15px;
    font-size: 0.9rem;
    text-align: center;
    display: none;
}

.mu-auth-message.success {
    background: var(--exito, #d1fae5);
    color: #065f46;
}

.mu-auth-message.error {
    background: #fee2e2;
    color: #991b1b;
}

.mu-forgot-link {
    display: block;
    text-align: center;
    margin-top: 12px;
    color: var(--primario, #2b9fcf);
    font-size: 0.9rem;
    text-decoration: none;
    transition: var(--mu-transition-fast, all 0.2s ease);
}

.mu-forgot-link:hover {
    text-decoration: underline;
    color: var(--resaltado, #2387b0);
}

.mu-forgot-link:focus-visible {
    outline: 2px solid var(--primario, #2b9fcf);
    outline-offset: 4px;
    border-radius: 4px;
}

.mu-terms-text {
    text-align: center;
    font-size: 0.85rem;
    color: #6b7280;
    margin-top: 12px;
}

.mu-terms-text a {
    color: var(--primario, #2b9fcf);
    text-decoration: none;
}

.mu-terms-text a:hover {
    text-decoration: underline;
}

/* =====================
   SOCIAL LOGIN
   ===================== */
.mu-divider {
    display: flex;
    align-items: center;
    text-align: center;
    margin: 1.5rem 0;
    color: #9ca3af;
    font-size: 0.85rem;
}

.mu-divider::before,
.mu-divider::after {
    content: '';
    flex: 1;
    border-bottom: 1px solid #e5e7eb;
}

.mu-divider span {
    padding: 0 10px;
}

.mu-social-buttons {
    display: flex;
    gap: 10px;
}

.mu-btn-social {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    border: 1px solid #e5e7eb;
    background: var(--blanco, #fff);
    color: #374151;
    text-decoration: none;
    transition: var(--mu-transition-fast, all 0.2s ease);
}

.mu-btn-social:hover {
    transform: translateY(-1px);
    box-shadow: var(--mu-shadow-sm, 0 2px 4px rgba(0, 0, 0, 0.05));
}

.mu-btn-social:focus-visible {
    outline: 3px solid var(--primario, #2b9fcf);
    outline-offset: 2px;
}

/* Variantes de botones sociales */
.mu-btn-google {
    background: var(--blanco, #fff);
    border: 1px solid #ddd;
    color: #333 !important;
}

.mu-btn-google:hover {
    background: #f9fafb;
}

.mu-btn-facebook {
    background: #1877F2 !important;
    border-color: #1877F2 !important;
    color: var(--blanco, #fff) !important;
}

.mu-btn-facebook:hover {
    background: #156ad8 !important;
}

/* =====================
   ANIMACIONES
   ===================== */
@keyframes muSlideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* =====================
   RESPONSIVE
   ===================== */
@media (max-width: 480px) {
    .mu-modal-content {
        padding: 1.5rem;
    }

    .mu-modal-header h2 {
        font-size: 1.5rem;
    }

    .mu-social-buttons {
        flex-direction: column;
    }

    .mu-btn-social {
        width: 100%;
    }
}

/* Reducción de movimiento para accesibilidad */
@media (prefers-reduced-motion: reduce) {
    .mu-auth-modal,
    .mu-modal-container,
    .mu-btn,
    .mu-link-back {
        animation: none;
        transition-duration: 0.01ms !important;
    }
}